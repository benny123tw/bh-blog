<div class="aside-widget">
    <div class="section-title">
        <h2>Catagories</h2>
    </div>
    <div class="category-widget">     
        <ul class="tag-box inline">
            {% assign tags_list = site.categories %}  
              {% if tags_list.first[0] == null %}
                {% for tag in tags_list %} 
                  <li><a href="#{{ tag }}">{{ tag | capitalize }} <span>{{ site.tags[tag].size }}</span></a></li>
                {% endfor %}
              {% else %}
                {% for tag in tags_list  %} 
                {% assign item = site.data.category | where: 'name', tag[0] | first %}
                    {% if item %}
                  <li><a href="{{ site.baseurl}}/categories/{{ tag[0] }}" class="{{ item.class }}">{{ tag[0] | capitalize }} <span>{{ tag[1].size }}</span></a></li>
                    {% endif %}
                {% endfor %}
              {% endif %}
            {% assign tags_list = nil %}
        </ul>
    </div>
</div>